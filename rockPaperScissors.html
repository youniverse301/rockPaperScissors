<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors!</title>
</head>
<body>
<div class="mybuttons">
  <button id="Rock">Rock</button>
  <button id="Paper">Paper</button>
  <button id="Scissors">Scissors</button>
  <div id="container"></div>
<script> 
var playerScore = 0;
var compScore = 0;
var win = "You win!"
var lose = "You lose!"
var draw = "It's a draw."
var Rock = "Rock"
var Paper = "Paper"
var Scissors = "Scissors"
//for (let i = 0; i < 5; i++) {
 
  const getComputerChoice = (computerSelection) => {
    return computerSelection[Math.floor(Math.random()*computerSelection.length)];
  }

  var computerSelection = [Rock, Paper, Scissors]
  let comp = getComputerChoice(computerSelection)
  //let playerSelection = prompt("Rock, paper or scissors?");



const container = document.querySelector('#container');

const displayPlayer = document.createElement('div');
displayPlayer.classList.add('playerChoice');
container.appendChild(displayPlayer);

const displayComp = document.createElement('div');
displayComp.classList.add('computerChoice');
container.appendChild(displayComp);

const displayResult = document.createElement('div');
displayResult.classList.add('result');
container.appendChild(displayResult);

const displayPlayerScore = document.createElement('div');
displayPlayerScore.classList.add('displayPlayerScore');
container.appendChild(displayPlayerScore);

const displayCompScore = document.createElement('div');
displayCompScore.classList.add('displayCompScore');
container.appendChild(displayCompScore);

const displayGame = document.createElement('div');
displayGame.classList.add('playerChoice');
container.appendChild(displayGame);

const displayScore = document.createElement('div');
displayScore.classList.add('displayScore');
container.appendChild(displayScore);

const displayEndGame = document.createElement('div');
displayEndGame.classList.add('displayendGame');
container.appendChild(displayEndGame );


function playRound(playerSelection,comp) {
     if (comp === "Rock" && playerSelection === "Paper"){
      return (win + " Paper beats rock")
    }
    else if (comp === "Paper" && playerSelection === "Rock"){
      return (lose + " Paper beats rock")
    }
    else if (comp === "Paper" && playerSelection === "Scissors"){
      return (win + " Scissors beats paper")
  }
  else if (comp === "Scissors" && playerSelection === "Paper"){
    return (lose + " Scissors beats paper")
  }
  else if (comp === "Scissors" && playerSelection === "Rock"){
    return (win + " Rock beats scissors")
  }
  else if (comp === "Rock" && playerSelection === "Scissors"){
    return (lose + " Rock beats scissors")
  }
  else if (comp === "Rock" && playerSelection === "Rock"){
    return (draw)
  }
  else if (comp === "Paper" && playerSelection === "Paper"){
     return (draw)
  }
  else if (comp === "Scissors" && playerSelection === "Scissors"){
    return (draw)
  }
}


const mybuttons = document.querySelectorAll('.mybuttons button');
mybuttons.forEach(mybutton => {
   mybutton.addEventListener('click', processClick);
});
var playerSelection;
function processClick() {
    playerSelection= this.id; // the id of the clicked button 
    displayPlayer.textContent = "Player: " + playerSelection;
    displayComp.textContent = "Computer: " + comp; 
    displayResult.textContent = playRound(playerSelection,comp);
    let result = playRound(playerSelection,comp)
    function game() {
      playRound(playerSelection,comp);
        if (result.includes('win')) {
          let p = ++playerScore;
        return "Player: " + p;}
        else if (result.includes('lose')) {
          let c = ++compScore;
        return "Computer: " + c;}
      }
    displayScore.textContent = game(); 
    function endGame () {
      game();
      if (playerScore > 4) {
      return ("You Won the match!")
      }
      if (compScore > 4) {
      return ("You lost the match.")
      }
    }
    displayEndGame.textContent = endGame();
}

</script>
</body>
</html>